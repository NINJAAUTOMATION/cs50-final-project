{% extends "layout.html" %}

{% block title %}
    Carrinho
{% endblock %}

{% block main %}
<main class="container p-5" >
<form action="/cart" method="POST" enctype=multipart/form-data>
    <table class="table table-striped">
        <thead>
            <h2>
                Carrinho
            </h2>
            <tr>
                <th></th>
                <th>Nome</th>
                <th>Quantidade</th>
                <th>Preço</th>
            </tr>
        </thead>
        <tbody>
        {% for produto in produtos %}
            <tr>
                <td><img src="/static/image/uploads/{{ produto.image }}" style="object-fit:scale-down; height: 50px;"></td>
                <td>{{ produto.name }}</td>
                <td>
                    <div class="btn-group">
                        {{ produto.quantities }} &nbsp;
                        <button class="btn btn-sm btn-outline-secondary" type="submit" name="submit_button-" value="{{ produto.id}}">-</button>
                        <button class="btn btn-sm btn-outline-secondary" type="submit" name="submit_button+" value="{{ produto.id}}">+</button>
                      </div>
                </td>
                <td>{{ produto.price }} €</td>
            </tr>
        {% endfor %}
        </tbody>
        <tfoot>
            <tr>
                <th colspan="3"></th>
                <th>Total: {{ totalcart }} €</th>
            </tr>
        </tfoot>
    </table>
    {% if totalcart != 0 %}
    <a href="/cart/checkout" style="float: right; margin-right: 20px;" class="btn btn-primary my-2">Comprar</a>
    {% endif %}
</form>
</main>
{% endblock %}
